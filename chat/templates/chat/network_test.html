{% extends 'web/base_nav.html' %}

{% load staticfiles %}

{% block title %}Bokaru | Network Test{% endblock %}

{% block header %}
<script src="https://static.opentok.com/v2/js/opentok.min.js"></script>
{% endblock %}

{% block content %}

<section class="g-mb-100">
    <div class="container text-center">
        <div class="row g-py-200--md g-py-80 g-min-height-50vh">
            <div class="col-md-8 ml-md-auto mr-md-auto">
                <div class="u-heading-v7-2 g-mb-30">
                    <h2 class="g-color-black g-font-weight-700 g-font-size-50 g-line-height-1 g-mb-20">Network Test</h2>
                    <span class="u-icon-v1 g-mr-15 g-mb-15">
                        <i class="fa fa-video-camera g-color-primary"></i>
                    </span>
                    <span class="u-icon-v1 g-mr-15 g-mb-15">
                        <i class="fa fa-headphones g-color-primary"></i>
                    </span>
                    <span class="u-icon-v1 g-mr-15 g-mb-15">
                        <i class="fa fa-signal g-color-primary"></i>
                    </span>
                    <span class="u-icon-v1 g-mr-15 g-mb-15">
                        <i class="fa fa-cogs g-color-primary"></i>
                    </span>
                    <span class="u-icon-v1 g-mr-15 g-mb-15">
                        <i class="fa fa-tachometer g-color-primary"></i>
                    </span>
                </div>

                <p id="welcome_text" class="lead g-mb-60">
                    Let's make sure that your computer, browser and internet connection are all up to the task of connecting you to all your dates!
                </p>

                <button id="start_button" class="btn btn-xl u-btn-primary rounded-0">
                    <i class="fa fa-video-camera g-mr-15"></i>
                    Start test
                </button>

                <div id="status_container" style="display:none;">
                    <h3>Testing stream capabilities</h3>
                    <p class="lead g-mb-60">Acquiring camera</p>
                    <span id="spinner" class="u-icon-v1 u-icon-size--lg">
                        <i class="fa fa-spinner spin g-color-primary"></i>
                    </span>
                    <span id="result_ok" class="u-icon-v1 u-icon-size--lg" style="display:none;">
                        <i class="fa fa-check-square-o g-color-primary"></i>
                    </span>
                    <span id="result_error" class="u-icon-v1 u-icon-size--lg" style="display:none;">
                        <i class="fa fa-times-circle g-color-primary"></i>
                    </span>
                    <span id="result_warning" class="u-icon-v1 u-icon-size--lg" style="display:none;">
                        <i class="fa fa-exclamation-triangle g-color-primary"></i>
                    </span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-8 ml-md-auto mr-md-auto">
                <p>Having trouble? Please take a look at the <a href="{% url 'web:browser_support' %}">list of supported browsers</a>
                    or <a href="{% url 'web:contact_us' %}">contact us</a> for support.</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block javascript %}
<script>
var API_KEY = '{{ tokbox_api_key }}';
var SESSION_ID = '{{ sessionID }}';
var TOKEN = '{{ token }}';
</script>
<script src="{% static 'chat/js/network_test.js' %}"></script>
{% endblock %}
